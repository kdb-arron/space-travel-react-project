{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hamro\\\\Desktop\\\\Software Development Certification\\\\React-JS\\\\Space Travel - React Project\\\\space-travel-starter-code-guided\\\\space-travel\\\\src\\\\pages\\\\Spacecrafts\\\\Spacecrafts.js\",\n  _s = $RefreshSig$();\nimport { useState, useContext, useEffect, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styles from \"./Spacecrafts.module.css\";\nimport { LoadingContext } from \"../../context/LoadingProvider\";\nimport SpaceTravelApi from \"../../services/SpaceTravelApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Spacecrafts() {\n  _s();\n  const [spacecrafts, setSpacecrafts] = useState([]);\n  const {\n    enableLoading,\n    disableLoading\n  } = useContext(LoadingContext);\n  const navigate = useNavigate();\n\n  // Define getSpacecrafts using useCallback to prevent unnecessary re-renders\n  const getSpacecrafts = useCallback(async () => {\n    enableLoading();\n    const {\n      data,\n      isError\n    } = await SpaceTravelApi.getSpacecrafts();\n    if (!isError && Array.isArray(data)) {\n      setSpacecrafts(data);\n    }\n    disableLoading();\n  }, [enableLoading, disableLoading]);\n  useEffect(() => {\n    // Fetch spacecrafts when the component is mounted\n    getSpacecrafts();\n  }, [getSpacecrafts]);\n  const handleClickOfBuild = () => navigate(\"/spacecraft/build\");\n  const handleClickOfImageContainer = id => navigate(`/spacecraft/${id}`);\n  const handleClickOfDestroy = async id => {\n    enableLoading();\n    const {\n      isError\n    } = await SpaceTravelApi.destroySpacecraftById({\n      id\n    });\n    if (!isError) {\n      // Re-fetch spacecrafts after one is destroyed\n      await getSpacecrafts();\n    }\n    disableLoading();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClickOfBuild,\n      children: \"\\uD83C\\uDFD7 Build a Spacecraft\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: spacecrafts.length > 0 ? spacecrafts.map(spacecraft => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"spacecraft\"],\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles[\"spacecraft__imageContainer\"],\n          onClick: () => handleClickOfImageContainer(spacecraft.id),\n          children: spacecraft.pictureUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: spacecraft.pictureUrl,\n            alt: `The spacecraft ${spacecraft.name}`,\n            className: styles[\"spacecraft__image\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles[\"spacecraft__image--default\"],\n            children: \"\\uD83D\\uDE80\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles[\"spacecraft__infoContainer\"],\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Name: \", spacecraft.name || \"Unnamed spacecraft\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Capacity: \", spacecraft.capacity || \"Unknown capacity\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleClickOfDestroy(spacecraft.id),\n          children: \"\\uD83D\\uDCA5 Destroy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this)]\n      }, spacecraft.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No spacecrafts available.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(Spacecrafts, \"9mDCxY6VFsrwqSeV2SyyWJ1Q1nA=\", false, function () {\n  return [useNavigate];\n});\n_c = Spacecrafts;\nexport default Spacecrafts;\nvar _c;\n$RefreshReg$(_c, \"Spacecrafts\");","map":{"version":3,"names":["useState","useContext","useEffect","useCallback","useNavigate","styles","LoadingContext","SpaceTravelApi","jsxDEV","_jsxDEV","Spacecrafts","_s","spacecrafts","setSpacecrafts","enableLoading","disableLoading","navigate","getSpacecrafts","data","isError","Array","isArray","handleClickOfBuild","handleClickOfImageContainer","id","handleClickOfDestroy","destroySpacecraftById","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","length","map","spacecraft","className","pictureUrl","src","alt","name","capacity","_c","$RefreshReg$"],"sources":["C:/Users/hamro/Desktop/Software Development Certification/React-JS/Space Travel - React Project/space-travel-starter-code-guided/space-travel/src/pages/Spacecrafts/Spacecrafts.js"],"sourcesContent":["import { useState, useContext, useEffect, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styles from \"./Spacecrafts.module.css\";\nimport { LoadingContext } from \"../../context/LoadingProvider\";\nimport SpaceTravelApi from \"../../services/SpaceTravelApi\";\n\nfunction Spacecrafts() {\n  const [spacecrafts, setSpacecrafts] = useState([]);\n  const { enableLoading, disableLoading } = useContext(LoadingContext);\n  const navigate = useNavigate();\n\n  // Define getSpacecrafts using useCallback to prevent unnecessary re-renders\n  const getSpacecrafts = useCallback(async () => {\n    enableLoading();\n    const { data, isError } = await SpaceTravelApi.getSpacecrafts();\n    if (!isError && Array.isArray(data)) {\n      setSpacecrafts(data);\n    }\n    disableLoading();\n  }, [enableLoading, disableLoading]);\n\n  useEffect(() => {\n    // Fetch spacecrafts when the component is mounted\n    getSpacecrafts();\n  }, [getSpacecrafts]);\n\n  const handleClickOfBuild = () => navigate(\"/spacecraft/build\");\n\n  const handleClickOfImageContainer = (id) => navigate(`/spacecraft/${id}`);\n\n  const handleClickOfDestroy = async (id) => {\n    enableLoading();\n    const { isError } = await SpaceTravelApi.destroySpacecraftById({ id });\n    if (!isError) {\n      // Re-fetch spacecrafts after one is destroyed\n      await getSpacecrafts();\n    }\n    disableLoading();\n  };\n\n  return (\n    <div>\n      <button onClick={handleClickOfBuild}>üèó Build a Spacecraft</button>\n      <div>\n        {spacecrafts.length > 0 ? (\n          spacecrafts.map((spacecraft) => (\n            <div key={spacecraft.id} className={styles[\"spacecraft\"]}>\n              <div\n                className={styles[\"spacecraft__imageContainer\"]}\n                onClick={() => handleClickOfImageContainer(spacecraft.id)}\n              >\n                {spacecraft.pictureUrl ? (\n                  <img\n                    src={spacecraft.pictureUrl}\n                    alt={`The spacecraft ${spacecraft.name}`}\n                    className={styles[\"spacecraft__image\"]}\n                  />\n                ) : (\n                  <span className={styles[\"spacecraft__image--default\"]}>üöÄ</span>\n                )}\n              </div>\n              <div className={styles[\"spacecraft__infoContainer\"]}>\n                <span>Name: {spacecraft.name || \"Unnamed spacecraft\"}</span>\n                <span>Capacity: {spacecraft.capacity || \"Unknown capacity\"}</span>\n              </div>\n              <button onClick={() => handleClickOfDestroy(spacecraft.id)}>\n                üí• Destroy\n              </button>\n            </div>\n          ))\n        ) : (\n          <p>No spacecrafts available.</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Spacecrafts;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}